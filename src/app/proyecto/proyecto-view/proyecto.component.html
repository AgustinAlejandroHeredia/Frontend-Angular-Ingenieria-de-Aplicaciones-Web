<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Proyectos</title>
</head>
<body>
  
  <main class="content">

    <div class="page-title">{{ proyecto.nombre }}</div>
    <div class="project-card">
      <div class="project-info">
        <p>ID: {{ proyecto._id }}</p>
        <p>Expediente: {{ proyecto.expediente }}</p>
        <p>Obra: {{ proyecto.obra }}</p>
        <p>Destino: {{ proyecto.destino }}</p>
        <p>Ubicacion: {{ proyecto.ubicacion }}</p>
        <p>Escala: {{ proyecto.escala }}</p>
        <p>Otros: {{ proyecto.otros }}</p>
        <p>Referencias: {{ proyecto.referencias }}</p>
        <p>Antecedentes: {{ proyecto.antecedentes }}</p>
        <p>Propietario: {{ proyecto.propietario }}</p>
        <p>Proyectistas: {{ proyecto.proyectistas }}</p>
        <p>Direccion tecnica: {{ proyecto.direccion_tecnica }}</p>
        <div class="project-status">
          <button [ngClass]="getStatus(proyecto.estado)">{{ proyecto.estado }}</button>
          <button *ngIf="admin || creator" class="view-btn" (click)="modificarProyecto()">Administrar proyecto</button>
        </div>
      </div>
    </div>

    <br>

    <button class="create-btn" type="button" (click)="crearPlano()">AÃ±adir plano +</button>

    <br>

    <!-- aca va la seccion donde se muestran los planos que hay subidos para este proyecto, propongo dos listas verticales -->
    <div class="project-card">

      <div class="muestra-planos" *ngFor="let plano of planos">
        
        <div class="plano-info">
          <p>Nombre: {{ plano.filename }}</p>
          <p>Subido por: {{ plano.subido_por }}</p>
          <!-- aca iria quiza la cisualizacion de archivos, alguna miniatura -->
          <button class="view-btn" type="button" (click)="verPlano(plano._id)">Ver</button>
          <button *ngIf="user_name === plano.subido_por || admin" class="delete-btn" type="button" (click)="deletePlano(plano._id)">Eliminar</button>
        </div>

      </div>
    </div>

    <br>

    <!-- redirige a crear/editar planos (edicion habilitada segun user, propietario o admin) -->
    

  </main>

</body>
</html>
